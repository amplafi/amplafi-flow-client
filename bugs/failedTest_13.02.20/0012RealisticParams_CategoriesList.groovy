request("CategoriesList", ["configuration":"abc","deleteCategories":"null","originalDeleteCategories":"null","defaultCategory":"null","fsRenderResult":"json"])

expect("""<html><head><title>Apache Tomcat/7.0.34 - Error report</title><style><!--H1 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:22px;} H2 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:16px;} H3 {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;font-size:14px;} BODY {font-family:Tahoma,Arial,sans-serif;color:black;background-color:white;} B {font-family:Tahoma,Arial,sans-serif;color:white;background-color:#525D76;} P {font-family:Tahoma,Arial,sans-serif;background:white;color:black;font-size:12px;}A {color : black;}A.name {color : black;}HR {color : #525D76;}--></style> </head><body><h1>HTTP Status 500 - java.lang.reflect.UndeclaredThrowableException</h1><HR size="1" noshade="noshade"><p><b>type</b> Exception report</p><p><b>message</b> <u>java.lang.reflect.UndeclaredThrowableException</u></p><p><b>description</b> <u>The server encountered an internal error that prevented it from fulfilling this request.</u></p><p><b>exception</b> <pre>javax.servlet.ServletException: java.lang.reflect.UndeclaredThrowableException
	com.amplafi.web.services.AmplafiWebRequestServicerPipelineBridge.service(AmplafiWebRequestServicerPipelineBridge.java:44)
	$ServletRequestServicer_13cb268aa14.service($ServletRequestServicer_13cb268aa14.java)
	org.apache.tapestry.request.DecodedRequestInjector.service(DecodedRequestInjector.java:55)
	$ServletRequestServicerFilter_13cb268aa10.service($ServletRequestServicerFilter_13cb268aa10.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	org.apache.tapestry.multipart.MultipartDecoderFilter.service(MultipartDecoderFilter.java:52)
	$ServletRequestServicerFilter_13cb268aa0e.service($ServletRequestServicerFilter_13cb268aa0e.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	org.apache.tapestry.services.impl.SetupRequestEncoding.service(SetupRequestEncoding.java:53)
	$ServletRequestServicerFilter_13cb268aa12.service($ServletRequestServicerFilter_13cb268aa12.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	com.javaforge.tapestry.acegi.filter.FilterChainAdapter.doFilter(FilterChainAdapter.java:43)
	org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:187)
	$Filter_13cb268aa0c.doFilter($Filter_13cb268aa0c.java)
	com.javaforge.tapestry.acegi.filter.ServletRequestServicerFilterAdapter.service(ServletRequestServicerFilterAdapter.java:42)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	com.javaforge.tapestry.acegi.filter.FilterChainAdapter.doFilter(FilterChainAdapter.java:43)
	org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:79)
	$Filter_13cb268aa0a.doFilter($Filter_13cb268aa0a.java)
	com.javaforge.tapestry.acegi.filter.ServletRequestServicerFilterAdapter.service(ServletRequestServicerFilterAdapter.java:42)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	$ServletRequestServicer_13cb268a9cf.service($ServletRequestServicer_13cb268a9cf.java)
	org.apache.tapestry.AmplafiApplicationServlet.doService(AmplafiApplicationServlet.java:194)
	org.apache.tapestry.AmplafiApplicationServlet.doGet(AmplafiApplicationServlet.java:171)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	com.amplafi.web.servlet.DisableSessionIdsInUrlFilter.doFilter(DisableSessionIdsInUrlFilter.java:61)
	com.amplafi.web.servlet.LogoutFilter.doFilter(LogoutFilter.java:34)
	com.amplafi.web.servlet.PerformanceLoggingFilter.doFilter(PerformanceLoggingFilter.java:59)
</pre></p><p><b>root cause</b> <pre>java.lang.reflect.UndeclaredThrowableException
	$Proxy17.service(Unknown Source)
	$WebRequestServicer_13cb268aa32.service($WebRequestServicer_13cb268aa32.java)
	$WebRequestServicer_13cb268aa2e.service($WebRequestServicer_13cb268aa2e.java)
	com.amplafi.web.services.AmplafiWebRequestServicerPipelineBridge.service(AmplafiWebRequestServicerPipelineBridge.java:41)
	$ServletRequestServicer_13cb268aa14.service($ServletRequestServicer_13cb268aa14.java)
	org.apache.tapestry.request.DecodedRequestInjector.service(DecodedRequestInjector.java:55)
	$ServletRequestServicerFilter_13cb268aa10.service($ServletRequestServicerFilter_13cb268aa10.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	org.apache.tapestry.multipart.MultipartDecoderFilter.service(MultipartDecoderFilter.java:52)
	$ServletRequestServicerFilter_13cb268aa0e.service($ServletRequestServicerFilter_13cb268aa0e.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	org.apache.tapestry.services.impl.SetupRequestEncoding.service(SetupRequestEncoding.java:53)
	$ServletRequestServicerFilter_13cb268aa12.service($ServletRequestServicerFilter_13cb268aa12.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	com.javaforge.tapestry.acegi.filter.FilterChainAdapter.doFilter(FilterChainAdapter.java:43)
	org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:187)
	$Filter_13cb268aa0c.doFilter($Filter_13cb268aa0c.java)
	com.javaforge.tapestry.acegi.filter.ServletRequestServicerFilterAdapter.service(ServletRequestServicerFilterAdapter.java:42)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	com.javaforge.tapestry.acegi.filter.FilterChainAdapter.doFilter(FilterChainAdapter.java:43)
	org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:79)
	$Filter_13cb268aa0a.doFilter($Filter_13cb268aa0a.java)
	com.javaforge.tapestry.acegi.filter.ServletRequestServicerFilterAdapter.service(ServletRequestServicerFilterAdapter.java:42)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	$ServletRequestServicer_13cb268a9cf.service($ServletRequestServicer_13cb268a9cf.java)
	org.apache.tapestry.AmplafiApplicationServlet.doService(AmplafiApplicationServlet.java:194)
	org.apache.tapestry.AmplafiApplicationServlet.doGet(AmplafiApplicationServlet.java:171)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	com.amplafi.web.servlet.DisableSessionIdsInUrlFilter.doFilter(DisableSessionIdsInUrlFilter.java:61)
	com.amplafi.web.servlet.LogoutFilter.doFilter(LogoutFilter.java:34)
	com.amplafi.web.servlet.PerformanceLoggingFilter.doFilter(PerformanceLoggingFilter.java:59)
</pre></p><p><b>root cause</b> <pre>java.lang.reflect.InvocationTargetException
	sun.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:601)
	com.amplafi.core.audit.hivemind.ReferringUriTrackingInterceptorFactory$ReferringUriInterceptor.invoke(ReferringUriTrackingInterceptorFactory.java:65)
	$Proxy17.service(Unknown Source)
	$WebRequestServicer_13cb268aa32.service($WebRequestServicer_13cb268aa32.java)
	$WebRequestServicer_13cb268aa2e.service($WebRequestServicer_13cb268aa2e.java)
	com.amplafi.web.services.AmplafiWebRequestServicerPipelineBridge.service(AmplafiWebRequestServicerPipelineBridge.java:41)
	$ServletRequestServicer_13cb268aa14.service($ServletRequestServicer_13cb268aa14.java)
	org.apache.tapestry.request.DecodedRequestInjector.service(DecodedRequestInjector.java:55)
	$ServletRequestServicerFilter_13cb268aa10.service($ServletRequestServicerFilter_13cb268aa10.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	org.apache.tapestry.multipart.MultipartDecoderFilter.service(MultipartDecoderFilter.java:52)
	$ServletRequestServicerFilter_13cb268aa0e.service($ServletRequestServicerFilter_13cb268aa0e.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	org.apache.tapestry.services.impl.SetupRequestEncoding.service(SetupRequestEncoding.java:53)
	$ServletRequestServicerFilter_13cb268aa12.service($ServletRequestServicerFilter_13cb268aa12.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	com.javaforge.tapestry.acegi.filter.FilterChainAdapter.doFilter(FilterChainAdapter.java:43)
	org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:187)
	$Filter_13cb268aa0c.doFilter($Filter_13cb268aa0c.java)
	com.javaforge.tapestry.acegi.filter.ServletRequestServicerFilterAdapter.service(ServletRequestServicerFilterAdapter.java:42)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	com.javaforge.tapestry.acegi.filter.FilterChainAdapter.doFilter(FilterChainAdapter.java:43)
	org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:79)
	$Filter_13cb268aa0a.doFilter($Filter_13cb268aa0a.java)
	com.javaforge.tapestry.acegi.filter.ServletRequestServicerFilterAdapter.service(ServletRequestServicerFilterAdapter.java:42)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	$ServletRequestServicer_13cb268a9cf.service($ServletRequestServicer_13cb268a9cf.java)
	org.apache.tapestry.AmplafiApplicationServlet.doService(AmplafiApplicationServlet.java:194)
	org.apache.tapestry.AmplafiApplicationServlet.doGet(AmplafiApplicationServlet.java:171)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	com.amplafi.web.servlet.DisableSessionIdsInUrlFilter.doFilter(DisableSessionIdsInUrlFilter.java:61)
	com.amplafi.web.servlet.LogoutFilter.doFilter(LogoutFilter.java:34)
	com.amplafi.web.servlet.PerformanceLoggingFilter.doFilter(PerformanceLoggingFilter.java:59)
</pre></p><p><b>root cause</b> <pre>org.hibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing: com.amplafi.core.messagehandling.BroadcastTopic
	org.hibernate.engine.ForeignKeys.getEntityIdentifierIfNotUnsaved(ForeignKeys.java:242)
	org.hibernate.type.EntityType.getIdentifier(EntityType.java:430)
	org.hibernate.type.ManyToOneType.isDirty(ManyToOneType.java:265)
	org.hibernate.type.TypeFactory.findDirty(TypeFactory.java:622)
	org.hibernate.persister.entity.AbstractEntityPersister.findDirty(AbstractEntityPersister.java:3189)
	org.hibernate.event.def.DefaultFlushEntityEventListener.dirtyCheck(DefaultFlushEntityEventListener.java:501)
	org.hibernate.event.def.DefaultFlushEntityEventListener.isUpdateNecessary(DefaultFlushEntityEventListener.java:227)
	org.hibernate.event.def.DefaultFlushEntityEventListener.onFlushEntity(DefaultFlushEntityEventListener.java:150)
	org.hibernate.event.def.AbstractFlushingEventListener.flushEntities(AbstractFlushingEventListener.java:219)
	org.hibernate.event.def.AbstractFlushingEventListener.flushEverythingToExecutions(AbstractFlushingEventListener.java:99)
	org.hibernate.event.def.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:49)
	org.hibernate.impl.SessionImpl.flush(SessionImpl.java:1031)
	sun.reflect.GeneratedMethodAccessor63.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:601)
	org.hibernate.context.ThreadLocalSessionContext$TransactionProtectionWrapper.invoke(ThreadLocalSessionContext.java:342)
	$Proxy13.flush(Unknown Source)
	com.amplafi.foundation.persistence.hibernate.AmplafiSessionFactory$AmplafiSession.commit(AmplafiSessionFactory.java:968)
	com.amplafi.foundation.persistence.impl.HibernateSessionManagerImpl.commit(HibernateSessionManagerImpl.java:435)
	com.amplafi.foundation.persistence.impl.TxImpl.close(TxImpl.java:276)
	com.amplafi.foundation.persistence.impl.TransactionalServiceInterceptorFactoryImpl$TransactionalInterceptor.invoke(TransactionalServiceInterceptorFactoryImpl.java:116)
	$Proxy17.service(Unknown Source)
	sun.reflect.GeneratedMethodAccessor90.invoke(Unknown Source)
	sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	java.lang.reflect.Method.invoke(Method.java:601)
	com.amplafi.core.audit.hivemind.ReferringUriTrackingInterceptorFactory$ReferringUriInterceptor.invoke(ReferringUriTrackingInterceptorFactory.java:65)
	$Proxy17.service(Unknown Source)
	$WebRequestServicer_13cb268aa32.service($WebRequestServicer_13cb268aa32.java)
	$WebRequestServicer_13cb268aa2e.service($WebRequestServicer_13cb268aa2e.java)
	com.amplafi.web.services.AmplafiWebRequestServicerPipelineBridge.service(AmplafiWebRequestServicerPipelineBridge.java:41)
	$ServletRequestServicer_13cb268aa14.service($ServletRequestServicer_13cb268aa14.java)
	org.apache.tapestry.request.DecodedRequestInjector.service(DecodedRequestInjector.java:55)
	$ServletRequestServicerFilter_13cb268aa10.service($ServletRequestServicerFilter_13cb268aa10.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	org.apache.tapestry.multipart.MultipartDecoderFilter.service(MultipartDecoderFilter.java:52)
	$ServletRequestServicerFilter_13cb268aa0e.service($ServletRequestServicerFilter_13cb268aa0e.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	org.apache.tapestry.services.impl.SetupRequestEncoding.service(SetupRequestEncoding.java:53)
	$ServletRequestServicerFilter_13cb268aa12.service($ServletRequestServicerFilter_13cb268aa12.java)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	com.javaforge.tapestry.acegi.filter.FilterChainAdapter.doFilter(FilterChainAdapter.java:43)
	org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:187)
	$Filter_13cb268aa0c.doFilter($Filter_13cb268aa0c.java)
	com.javaforge.tapestry.acegi.filter.ServletRequestServicerFilterAdapter.service(ServletRequestServicerFilterAdapter.java:42)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	com.javaforge.tapestry.acegi.filter.FilterChainAdapter.doFilter(FilterChainAdapter.java:43)
	org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:79)
	$Filter_13cb268aa0a.doFilter($Filter_13cb268aa0a.java)
	com.javaforge.tapestry.acegi.filter.ServletRequestServicerFilterAdapter.service(ServletRequestServicerFilterAdapter.java:42)
	$ServletRequestServicer_13cb268aa16.service($ServletRequestServicer_13cb268aa16.java)
	$ServletRequestServicer_13cb268a9cf.service($ServletRequestServicer_13cb268a9cf.java)
	org.apache.tapestry.AmplafiApplicationServlet.doService(AmplafiApplicationServlet.java:194)
	org.apache.tapestry.AmplafiApplicationServlet.doGet(AmplafiApplicationServlet.java:171)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:621)
	javax.servlet.http.HttpServlet.service(HttpServlet.java:728)
	com.amplafi.web.servlet.DisableSessionIdsInUrlFilter.doFilter(DisableSessionIdsInUrlFilter.java:61)
	com.amplafi.web.servlet.LogoutFilter.doFilter(LogoutFilter.java:34)
	com.amplafi.web.servlet.PerformanceLoggingFilter.doFilter(PerformanceLoggingFilter.java:59)
</pre></p><p><b>note</b> <u>The full stack trace of the root cause is available in the Apache Tomcat/7.0.34 logs.</u></p><HR size="1" noshade="noshade"><h3>Apache Tomcat/7.0.34</h3></body></html>""")

